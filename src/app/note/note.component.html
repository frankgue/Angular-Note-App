<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
  [fullScreen]="true"
>
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>


<div class="container">
  <button
    type="button"
    class="btn btn-primary"
    data-bs-toggle="modal"
    data-bs-target="#addNoteModal"
    data-bs-whatever="@mdo"
  >
    Create Note <i class="bi bi-file-plus"></i>
  </button>

  <div class="row">
    <div class="col-md-4" *ngFor="let note  of allNotes">
      <div class="card card-body">
        <h5>{{note.note_title}}</h5>
        <p class="text-muted">
          {{note.note_desc}}
        </p>
        <div class="d-flex align-items-center">
          <span class="mx-3" (click)="getAllDetails(note)"
            ><i
              class="fa fa-pen"
              data-bs-toggle="modal"
              data-bs-target="#editNoteModal"
              data-bs-whatever="@mdo"
            ></i></span
          >&nbsp; <span class="mx-3" (click)="deleteNote(note)"> <i class="fa fa-trash" style="color: red;"></i></span>&nbsp;
        </div>
      </div>
    </div>
  </div>

  <!-- Add Notes Model -->
  <div
    class="modal fade"
    id="addNoteModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Daily Notes</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
        <div class="modal-body">
          <form [formGroup]="noteFormValue">
            <div class="mb-3">
              <label for="title" class="col-form-label">Note Title:</label>
              <input
                type="text"
                class="form-control"
                id="title"
                name="title"
                formControlName="title"
              />
            </div>
            <div class="mb-3">
              <label for="description" class="col-form-label"
                >Note Description:</label
              >
              <textarea
                class="form-control"
                id="description"
                name="description"
                formControlName="description"
              ></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button type="button" class="btn btn-primary" (click)="addNote()" [disabled]="noteFormValue.invalid">Add Note</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Add Notes Model -->
  <div
    class="modal fade"
    id="editNoteModal"
    tabindex="-1"
    aria-labelledby="exampleModalLabel"
    aria-hidden="true"
  >
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit Notes</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
          ></button>
        </div>
       <div class="modal-body">
          <form [formGroup]="editFormValue">
            <div class="mb-3">
              <label for="title" class="col-form-label">Note Title:</label>
              <input
                type="text"
                class="form-control"
                id="title"
                name="title"
                formControlName="title"
                [value]="noteDetails?.note_title"
              />
            </div>
            <div class="mb-3">
              <label for="description" class="col-form-label"
                >Note Description:</label
              >
              <textarea
                class="form-control"
                id="description"
                name="description"
                formControlName="description"
                [value]="noteDetails?.note_desc"
              ></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button type="button" class="btn btn-primary" (click)="updateNote(allNotes)">Update Note</button>
        </div>
      </div>
    </div>
  </div>
</div>
